{% extends 'base.html' %}{% block content%}
<style>

	.scroll	{
		overflow: hidden;
		overflow: scroll;
		height:450px;
	}

	ul,a{
		text-decoration: none;
		list-style: none;
	}
	a:hover	{
    text-decoration:none;
   	}
   	.box{
   		background-color:#f7f7f7;
   		padding: 10px 0px 0px 25px;
   	}
   	.box li{
   		margin-left: -50px;
   	}
  
</style>

<script>

document.addEventListener("dragstart", function(event) {
  event.dataTransfer.setData("Text", event.target.id);
  
  document.getElementById("demo").innerHTML = "Started to drag the p element.";
  
  event.target.style.opacity = "0.4";
});

document.addEventListener("drag", function(event) {
  document.getElementById("demo").style.color = "red";
});

document.addEventListener("dragend", function(event) {
  document.getElementById("demo").innerHTML = "Finished dragging the p element.";
  event.target.style.opacity = "1";
});

document.addEventListener("dragenter", function(event) {
  if ( event.target.className == "droptarget" ) {
    event.target.style.border = "3px dotted red";
  }
});

document.addEventListener("dragover", function(event) {
  event.preventDefault();
});

document.addEventListener("dragleave", function(event) {
  if ( event.target.className == "droptarget" ) {
    event.target.style.border = "";
  }
});

document.addEventListener("drop", function(event) {
  event.preventDefault();
  if ( event.target.className == "droptarget" ) {
    document.getElementById("demo").style.color = "";
    event.target.style.border = "";
    var data = event.dataTransfer.getData("Text");
    //console.log("data", document.getElementById(data))
    var column_data = event.target.appendChild(document.getElementById(data));
  }
});
</script>

<h4 class="text-muted" style="text-align: center;">
	<a href="" style="text-decoration:none;">Linking Account To Group</a>
</h4>
<button type="button" class="btn btn-sm btn-info" style="margin-left: 600px;margin-top: 10px;color: white;"><a href="{% url 'creategroup' %}" style="text-decoration: none;color: white;">Create a group</a></button>
<hr>		 
<div class="container" style="margin: 30px 0px 30px 0px;">
	<div class=" row " style="border:1px solid #f2f2f2;padding:10px 0px 10px 5px;">
		<div class="scroll col-sm-5">
			
		<form action="#" method="post" enctype="multipart/form-data">
			<table class="table table-striped" style="margin-bottom: 50px;" id="table1">

				<tbody class="droptarget dragtarget">				
					{% for row in excel_data %}
					<tr draggable="true" id="dragtarget">
						<td><input type="checkbox" name="check-tab1"></td>
						{% for cell in row %}
						
							{% if cell != blank	 %}
							<td><a href="#" style="text-decoration: none;list-style: none;color: #000;">{{ cell }}</a></td>
							{% endif  %}

						{% endfor %}
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</form>
		</div>
		<div class="col-sm-0.5" style="margin:0px 8px 0px 8px;">
			<div class="btn-group-vertical">
				<button type="button" class="btn btn-danger" style="margin-top:5px;width:30px;height: 30px;"><i class="fa fa-sync-alt" aria-hidden="true" style="margin:-5px 0px 0px -6px;"></i></button>

				<button type="button" class="btn btn-danger"  style="margin-top:5px;width:30px;height: 30px;"><i class="fa fa-sync-alt" aria-hidden="true" style="margin:-5px 0px 0px -6px;"></i></button>

				<button onclick="tab1_To_tab2();" type="button" class="btn btn-danger"  style="margin-top:5px;width:30px;height: 30px;"><i class="fa fa-caret-right" aria-hidden="true" style="margin-top:-5px;font-size: 30px;"></i></button>

				<button onclick="deleteRow();" type="button" class="btn btn-danger"  style="margin-top:5px;width:30px;height: 30px;"><i class="fa fa-caret-left" aria-hidden="true" style="margin:-5px 0px 0px -6px;font-size: 30px;"></i></button>
			</div>
		</div>
		<div class="scroll col-sm-6 box">

		<div id="accordion">

			<ul>				
				<li><a class="card-link" data-toggle="collapse" href="#collapseOne"><i class="fa fa-folder" aria-hidden="true" style="color: #ecda82;"></i> Actifs</a></li>
			
				<ul id="collapseOne" class="collapse show" data-parent="#accordion">
					<li>
						<ul>
							<li><i class="fa fa-grip-lines" style="color: grey;"></i> <a href="#"> Gadgets<table id="table2" border="1"></table></a></li>  
						</ul>
					</li>
				</ul>
			</ul>

			<ul>				
				<li><a class="card-link" data-toggle="collapse" href="#collapseTwo"><i class="fa fa-folder" aria-hidden="true" style="color:#ecda82;"></i> Actifs court terme</a></li>
			
				<ul id="collapseTwo" class="collapse show" data-parent="#accordion">
					<li>
						<ul>
							<li><i class="fa fa-grip-lines" style="color: grey;"></i> <a href="#">Gadgets</a></li>
							<li><i class="fa fa-grip-lines" style="color: grey;"></i> <a href="#">Accessories</a></li>
						</ul>
					</li>
				</ul>
			</ul>

			<ul>				
				<li><a class="card-link" data-toggle="collapse" href="#collapseThree"><i class="fa fa-folder" aria-hidden="true" style="color:#ecda82;"></i> Actifs court terme</a></li>
			
				<ul id="collapseThree" class="collapse show" data-parent="#accordion">
					<li>
						<ul>
							<li><i class="fa fa-grip-lines" style="color: grey;"></i> <a href="#">Gadgets</a></li>
							<li><i class="fa fa-grip-lines" style="color: grey;"></i> <a href="#">Accessories</a></li>
						</ul>
					</li>
				</ul>
			</ul>

		</div><div class="droptarget" style="width: 500px;height: 300px;overflow: hidden;
		overflow: scroll;"></div><p id="demo"></p>
	</div>
	<div class="col-sm-0.5">
			<div class="btn-group-vertical" style="margin:0px 0px 0px 8px;">
				<button type="button" class="btn btn-danger" style="margin-top:5px;width:30px;height: 30px;"><i class="fa fa-caret-up" aria-hidden="true" style="margin:-8px 0px 0px -6px; font-size: 30px;"></i></button>

				<button type="button" class="btn btn-danger"  style="margin-top:5px;width:30px;height: 30px;"><i class="fa fa-caret-down" aria-hidden="true" style="margin:-5px 0px 0px -6px;font-size: 30px;"></i></button>
			</div>
		</div>
</div>

<script>
            
    function tab1_To_tab2()
    {
        var table1 = document.getElementById("table1"),
            table2 = document.getElementById("table2"),
            checkboxes = document.getElementsByName("check-tab1");
    	console.log("Val1 = " + checkboxes.length);
         for(var i = 0; i < checkboxes.length; i++)
             if(checkboxes[i].checked)
                {
                    var newRow = table2.insertRow(table2.length),
                        cell1 = newRow.insertCell(0),
                        cell2 = newRow.insertCell(1),
                        cell3 = newRow.insertCell(2),
                        cell4 = newRow.insertCell(3);
                        cell5 = newRow.insertCell(4),
                        cell6 = newRow.insertCell(5),
                        cell7 = newRow.insertCell(6),

                    cell1.innerHTML = table1.rows[i].cells[0].innerHTML;
                    cell2.innerHTML = table1.rows[i].cells[1].innerHTML;
                    cell3.innerHTML = table1.rows[i].cells[2].innerHTML;
                    cell4.innerHTML = table1.rows[i].cells[3].innerHTML;
                    cell5.innerHTML = table1.rows[i].cells[4].innerHTML;
                    cell6.innerHTML = table1.rows[i].cells[5].innerHTML;
                    cell7.innerHTML = table1.rows[i].cells[6].innerHTML;

                    checkboxes[i].checked = false;
                   
                }
                
    }

    function deleteRow()
    {
        checkboxes = document.getElementsByName("check-tab1");
		for(var i = 0; i < checkboxes.length; i++)
			if(checkboxes[i].checked)
			{
			    var table = document.getElementById ("table2");
			    if (table.rows.length > 0) {
			        table.deleteRow (0);
			    }
			}
    }

</script>

{% endblock %}